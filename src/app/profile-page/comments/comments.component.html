<div class="comment-container">
    <mat-card class="box">
        <mat-card-header>
          <img mat-card-avatar src='assets/images/bckg-an1.jpg'>
          <mat-card-title>{{userInfo.fname}} {{userInfo.lname}}</mat-card-title>
          <mat-card-subtitle>{{userInfo.userEmail}}</mat-card-subtitle>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
          <img mat-card-image [src]="userInfo.imagePath" alt="Photo of a Shiba Inu">
          <p>
            {{userInfo.caption}}
          </p>
        </mat-card-content>
      </mat-card>
  <div class="box">
    <!-- <mat-card style="width:100%" class="comment-box">
      <mat-card style="width:90%;">
        <p><strong>Nikhil Motwani</strong></p>
        <p> This is sample comment</p>
        <mat-card-actions>
          <button mat-button class="comment-action"> Edit </button>
          <button mat-button class="comment-action"> Delete </button>
        </mat-card-actions>
      </mat-card>
      <mat-card style="width:90%; margin-top: 2em;">

        </mat-card>
    </mat-card> -->
    <div style="width:100%; overflow: scroll;" class="comment-box">
      <div *ngIf = 'comments.length > 0'>
    <mat-card style="width:100%" class="comment-box" *ngFor = 'let comment of comments'>
        <mat-card style="width:90%;">
          <p><strong>{{ comment.email }}</strong></p>
          <p [id] = "'content'+comment.id"> {{ comment.content }}</p>
          <mat-card-actions *ngIf = 'comment.email === userEmail'>
              <form [formGroup] = 'commentForm' >
                  <mat-form-field class="style-form hide-form" style="width:100%" [id] = "'comment'+comment.id">
                      <textarea matInput [id] = "'commenttext'+comment.id" formControlName='content' (change) = 'editComment(comment.id)'></textarea>
                  </mat-form-field>
              </form>
            <button mat-button color='primary' [id] = "'edit'+comment.id" (click)='showForm(comment.id)' class="comment-action"> Edit </button>
            <button mat-button color='primary' [id] = "'back'+comment.id" (click)='backForm(comment.id)' class="comment-action hide-form">Back</button>
            <button mat-button color='primary' [id] = "'save'+comment.id" (click)='saveForm(comment.id)' class="comment-action hide-form">Save</button>
            <button mat-button color='accent' (click)='deleteComment(comment.id)' class="comment-action"> Delete </button>
          </mat-card-actions>
        </mat-card>
    </mat-card>
  </div>
  </div>
    <form [formGroup] = 'form'>
      <mat-form-field style="width: 100%;">
        <textarea matInput placeholder="Add Comments" formControlName='content' style="height: 3em;"></textarea>
        <button id="comment-button" color='primary' type='button' (click) = 'onComment()' mat-raised-button color="primary">Comment</button>
      </mat-form-field>
    </form>
  </div>
</div>
